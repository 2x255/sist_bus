<!doctype html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179563722-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-179563722-3');
</script>

	<html lang="jp">
	<meta http-equiv="content-type" charset="utf-8">
	<meta name="description" content="自分用 静岡理工科大学 スクールバス運行情報表示ツール。大学公式ではありません。">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.min.js"></script>
	<link rel="stylesheet" href="../main.css">
	<link rel="canonical" href="https://s-n-1-0.github.io/sist_bus/list/2020.html">
	<link rel="icon" type="image/png" href="../icon.png">
	<title>【過去】2020年のバスの時刻表示</title>
</head>
<body>
    <div id="contents">
        <ul class="list">
          <li v-for="MM in title" class="list-item">
            <a href="#" v-bind:class="{active:active===MM}" @click="dropdown(MM)">{{MM}}月</a>
            <ul v-if="active===MM">
                <a href="#" v-bind:label="title">{{MM}}月</a>
            </ul>
          </li>
        </ul>
      </div>
</body>
<script src="../unc/get_schedule.js"></script>
<script>
    let yyyy = 2020;
var list = new Vue({
	el:"#contents",
  data:{
  	title:["10","11","12"],
    schedule:null,
    schedules:Array(3),//月数を指定
    active:""
  },
  methods:{
  	dropdown(MM){
      let i = list.title.indexOf(MM)
      if (list.schedules[i] === undefined){
      GetScheduleEx(yyyy, MM, function(schedule) {
        list.schedules[i] = {}
        list.schedules[i].schedule_ex = schedule;
			//ex内部で実行(非同期後)
			getSchedule(yyyy, MM,function(pm, schedule) {
				if (schedule != null) {
					//読み込み後
					var mode = pm;
					list.schedules[i].schedule_c = schedule["a2c"];
					list.schedules[i].schedule_a = schedule["c2a"];
          console.log(mode)
          if (mode != -1){
        list.schedule = list.schedules[i];
        list.active = list.active===MM ? "":MM;
        }
				}
			},0,"../");
		},"../");
    }else{
      console.log("読み込み済みのデータを表示");
    list.schedule = list.schedules[i];
    list.active = list.active===MM ? "":MM;
  }
  }
  }
});
</script>